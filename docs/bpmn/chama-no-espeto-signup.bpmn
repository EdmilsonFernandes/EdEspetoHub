<?xml version='1.0' encoding='utf-8'?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_ChamaNoEspetoSignup" targetNamespace="https://datony.com/chama-no-espeto/bpmn"><bpmn:process id="ChamaNoEspetoSignup" name="Fluxo de Cadastro e Pagamento" isExecutable="false"><bpmn:laneSet id="LaneSet_ChamaNoEspetoSignup"><bpmn:lane id="Lane_Customer_Signup" name="Cliente"><bpmn:flowNodeRef>Start_Registration</bpmn:flowNodeRef><bpmn:flowNodeRef>Task_SubmitRegistration</bpmn:flowNodeRef><bpmn:flowNodeRef>Task_ConfirmEmail</bpmn:flowNodeRef><bpmn:flowNodeRef>Task_RedirectPayment</bpmn:flowNodeRef></bpmn:lane><bpmn:lane id="Lane_API_Signup" name="API / Backend"><bpmn:flowNodeRef>Task_CreateUser</bpmn:flowNodeRef><bpmn:flowNodeRef>Task_GenerateSlug</bpmn:flowNodeRef><bpmn:flowNodeRef>Task_CreateStoreClosed</bpmn:flowNodeRef><bpmn:flowNodeRef>Task_CreateSubscriptionPending</bpmn:flowNodeRef><bpmn:flowNodeRef>Task_CreatePayment</bpmn:flowNodeRef><bpmn:flowNodeRef>Task_SendEmailConfirmation</bpmn:flowNodeRef><bpmn:flowNodeRef>Task_SendPendingPaymentEmail</bpmn:flowNodeRef><bpmn:flowNodeRef>Task_WebhookApproved</bpmn:flowNodeRef><bpmn:flowNodeRef>Task_ConfirmPayment</bpmn:flowNodeRef><bpmn:flowNodeRef>Task_ActivateSubscription</bpmn:flowNodeRef><bpmn:flowNodeRef>Task_OpenStore</bpmn:flowNodeRef><bpmn:flowNodeRef>Task_SendActivationEmail</bpmn:flowNodeRef></bpmn:lane><bpmn:lane id="Lane_Admin_Signup" name="Painel interno / Operacao" /></bpmn:laneSet><bpmn:startEvent id="Start_Registration" name="Cadastro /api/auth/register" /><bpmn:task id="Task_SubmitRegistration" name="Enviar cadastro" /><bpmn:task id="Task_CreateUser" name="Criar usuario" /><bpmn:task id="Task_GenerateSlug" name="Gerar slug unico" /><bpmn:task id="Task_CreateStoreClosed" name="Criar loja open=false" /><bpmn:task id="Task_CreateSubscriptionPending" name="Assinatura PENDING" /><bpmn:task id="Task_CreatePayment" name="Gerar pagamento MP" /><bpmn:task id="Task_SendEmailConfirmation" name="Enviar email confirmacao" /><bpmn:task id="Task_ConfirmEmail" name="Confirmar e-mail /verify-email" /><bpmn:task id="Task_SendPendingPaymentEmail" name="Enviar email pagamento pendente" /><bpmn:task id="Task_RedirectPayment" name="Redirect /payment/:id" /><bpmn:task id="Task_WebhookApproved" name="Webhook MP aprovado" /><bpmn:task id="Task_ConfirmPayment" name="Confirmar pagamento" /><bpmn:task id="Task_ActivateSubscription" name="Assinatura ACTIVE + datas" /><bpmn:task id="Task_OpenStore" name="Loja open=true" /><bpmn:task id="Task_SendActivationEmail" name="Enviar email de ativacao" /><bpmn:sequenceFlow id="Flow_RegisterStart" sourceRef="Start_Registration" targetRef="Task_SubmitRegistration" /><bpmn:sequenceFlow id="Flow_SubmitToCreateUser" sourceRef="Task_SubmitRegistration" targetRef="Task_CreateUser" /><bpmn:sequenceFlow id="Flow_CreateUserToSlug" sourceRef="Task_CreateUser" targetRef="Task_GenerateSlug" /><bpmn:sequenceFlow id="Flow_SlugToStore" sourceRef="Task_GenerateSlug" targetRef="Task_CreateStoreClosed" /><bpmn:sequenceFlow id="Flow_StoreToSubscription" sourceRef="Task_CreateStoreClosed" targetRef="Task_CreateSubscriptionPending" /><bpmn:sequenceFlow id="Flow_SubscriptionToPayment" sourceRef="Task_CreateSubscriptionPending" targetRef="Task_CreatePayment" /><bpmn:sequenceFlow id="Flow_PaymentToEmailConfirm" sourceRef="Task_CreatePayment" targetRef="Task_SendEmailConfirmation" /><bpmn:sequenceFlow id="Flow_EmailConfirmToUser" sourceRef="Task_SendEmailConfirmation" targetRef="Task_ConfirmEmail" /><bpmn:sequenceFlow id="Flow_ConfirmToPendingEmail" sourceRef="Task_ConfirmEmail" targetRef="Task_SendPendingPaymentEmail" /><bpmn:sequenceFlow id="Flow_PendingToRedirect" sourceRef="Task_SendPendingPaymentEmail" targetRef="Task_RedirectPayment" /><bpmn:sequenceFlow id="Flow_RedirectToWebhook" sourceRef="Task_RedirectPayment" targetRef="Task_WebhookApproved" /><bpmn:sequenceFlow id="Flow_WebhookToConfirm" sourceRef="Task_WebhookApproved" targetRef="Task_ConfirmPayment" /><bpmn:sequenceFlow id="Flow_ConfirmToActivate" sourceRef="Task_ConfirmPayment" targetRef="Task_ActivateSubscription" /><bpmn:sequenceFlow id="Flow_ActivateToOpenStore" sourceRef="Task_ActivateSubscription" targetRef="Task_OpenStore" /><bpmn:sequenceFlow id="Flow_OpenToActivationEmail" sourceRef="Task_OpenStore" targetRef="Task_SendActivationEmail" /></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_ChamaNoEspetoSignup"><bpmndi:BPMNPlane id="BPMNPlane_ChamaNoEspetoSignup" bpmnElement="ChamaNoEspetoSignup"><bpmndi:BPMNShape id="DI_Lane_Customer_Signup" bpmnElement="Lane_Customer_Signup" isHorizontal="true"><dc:Bounds x="40" y="100" width="1500" height="200" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Lane_API_Signup" bpmnElement="Lane_API_Signup" isHorizontal="true"><dc:Bounds x="40" y="320" width="1500" height="200" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Lane_Admin_Signup" bpmnElement="Lane_Admin_Signup" isHorizontal="true"><dc:Bounds x="40" y="540" width="1500" height="200" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Start_Registration" bpmnElement="Start_Registration"><dc:Bounds x="180" y="140" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Task_SubmitRegistration" bpmnElement="Task_SubmitRegistration"><dc:Bounds x="440" y="140" width="150" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Task_ConfirmEmail" bpmnElement="Task_ConfirmEmail"><dc:Bounds x="700" y="140" width="150" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Task_RedirectPayment" bpmnElement="Task_RedirectPayment"><dc:Bounds x="960" y="140" width="150" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Task_CreateUser" bpmnElement="Task_CreateUser"><dc:Bounds x="180" y="360" width="150" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Task_GenerateSlug" bpmnElement="Task_GenerateSlug"><dc:Bounds x="440" y="360" width="150" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Task_CreateStoreClosed" bpmnElement="Task_CreateStoreClosed"><dc:Bounds x="700" y="360" width="150" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Task_CreateSubscriptionPending" bpmnElement="Task_CreateSubscriptionPending"><dc:Bounds x="960" y="360" width="150" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Task_CreatePayment" bpmnElement="Task_CreatePayment"><dc:Bounds x="180" y="470" width="150" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Task_SendEmailConfirmation" bpmnElement="Task_SendEmailConfirmation"><dc:Bounds x="440" y="470" width="150" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Task_SendPendingPaymentEmail" bpmnElement="Task_SendPendingPaymentEmail"><dc:Bounds x="700" y="470" width="150" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Task_WebhookApproved" bpmnElement="Task_WebhookApproved"><dc:Bounds x="960" y="470" width="150" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Task_ConfirmPayment" bpmnElement="Task_ConfirmPayment"><dc:Bounds x="180" y="580" width="150" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Task_ActivateSubscription" bpmnElement="Task_ActivateSubscription"><dc:Bounds x="440" y="580" width="150" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Task_OpenStore" bpmnElement="Task_OpenStore"><dc:Bounds x="700" y="580" width="150" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="DI_Task_SendActivationEmail" bpmnElement="Task_SendActivationEmail"><dc:Bounds x="960" y="580" width="150" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="DI_Flow_RegisterStart" bpmnElement="Flow_RegisterStart"><di:waypoint x="216" y="158.0" /><di:waypoint x="440" y="180.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="DI_Flow_SubmitToCreateUser" bpmnElement="Flow_SubmitToCreateUser"><di:waypoint x="590" y="180.0" /><di:waypoint x="180" y="400.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="DI_Flow_CreateUserToSlug" bpmnElement="Flow_CreateUserToSlug"><di:waypoint x="330" y="400.0" /><di:waypoint x="440" y="400.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="DI_Flow_SlugToStore" bpmnElement="Flow_SlugToStore"><di:waypoint x="590" y="400.0" /><di:waypoint x="700" y="400.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="DI_Flow_StoreToSubscription" bpmnElement="Flow_StoreToSubscription"><di:waypoint x="850" y="400.0" /><di:waypoint x="960" y="400.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="DI_Flow_SubscriptionToPayment" bpmnElement="Flow_SubscriptionToPayment"><di:waypoint x="1110" y="400.0" /><di:waypoint x="180" y="510.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="DI_Flow_PaymentToEmailConfirm" bpmnElement="Flow_PaymentToEmailConfirm"><di:waypoint x="330" y="510.0" /><di:waypoint x="440" y="510.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="DI_Flow_EmailConfirmToUser" bpmnElement="Flow_EmailConfirmToUser"><di:waypoint x="590" y="510.0" /><di:waypoint x="700" y="180.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="DI_Flow_ConfirmToPendingEmail" bpmnElement="Flow_ConfirmToPendingEmail"><di:waypoint x="850" y="180.0" /><di:waypoint x="700" y="510.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="DI_Flow_PendingToRedirect" bpmnElement="Flow_PendingToRedirect"><di:waypoint x="850" y="510.0" /><di:waypoint x="960" y="180.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="DI_Flow_RedirectToWebhook" bpmnElement="Flow_RedirectToWebhook"><di:waypoint x="1110" y="180.0" /><di:waypoint x="960" y="510.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="DI_Flow_WebhookToConfirm" bpmnElement="Flow_WebhookToConfirm"><di:waypoint x="1110" y="510.0" /><di:waypoint x="180" y="620.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="DI_Flow_ConfirmToActivate" bpmnElement="Flow_ConfirmToActivate"><di:waypoint x="330" y="620.0" /><di:waypoint x="440" y="620.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="DI_Flow_ActivateToOpenStore" bpmnElement="Flow_ActivateToOpenStore"><di:waypoint x="590" y="620.0" /><di:waypoint x="700" y="620.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="DI_Flow_OpenToActivationEmail" bpmnElement="Flow_OpenToActivationEmail"><di:waypoint x="850" y="620.0" /><di:waypoint x="960" y="620.0" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>